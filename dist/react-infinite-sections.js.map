{"version":3,"sources":["../src/main.js"],"names":[],"mappings":"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","file":"react-infinite-sections.js","sourcesContent":["import React, {Component} from 'react';\n\nconst classes = {\n\tstartPrevious: 'is-start__previous',\n\tstartCurrent: 'is-start__current',\n\n\tanimatePrevious: 'is-animate__previous',\n\tanimateCurrent: 'is-animate__current',\n\n\tstartPreviousInverse: 'is-start__previous--inverse',\n\tstartCurrentInverse: 'is-start__current--inverse',\n\n\tanimatePreviousInverse: 'is-animate__previous--inverse',\n\tanimateCurrentInverse: 'is-animate__current--inverse',\n\n\tend: 'is-end'\n};\n\nexport default class InfiniteSections extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.dispatcher = new Dispatcher();\n\t}\n\n\trender() {\n\t\tlet {style, className, sections, root, animate, duration, onStart, onDone} = this.props;\n\t\tlet disableNavigationWhileAnimating = true;\n\n\t\tif (this.props.disableNavigationWhileAnimating === false) {\n\t\t\tdisableNavigationWhileAnimating = false;\n\t\t}\n\n\t\treturn (\n\t\t\t<IS\n\t\t\t\tclassName={className}\n\t\t\t\tstyle={style}\n\t\t\t\tdispatcher={this.dispatcher}\n\t\t\t\tanimate={animate}\n\t\t\t\tduration={duration}\n\t\t\t\tdisableNavigationWhileAnimating={disableNavigationWhileAnimating}\n\t\t\t\tonStart={isFunction(onStart) ? onStart : null}\n\t\t\t\tonDone={isFunction(onDone) ? onDone : null}\n\t\t\t\troot={root}\n\t\t\t\tsections={sections(this.dispatcher.dispatch.bind(this.dispatcher))}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nInfiniteSections.propTypes = {\n\troot: React.PropTypes.shape({\n\t\tsection: React.PropTypes.string.isRequired,\n\t\tid: React.PropTypes.string.isRequired\n\t}),\n\tsections: React.PropTypes.func.isRequired\n};\n\nclass IS extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\t...props,\n\t\t\tprevious: null,\n\t\t\tcurrent: null\n\t\t};\n\n\t\tthis.isAnimating = false;\n\t\tthis.timeoutId = null;\n\t\tthis.inverse = null;\n\t\tthis.state.current = getCurrent(this.state.sections[this.props.root.section], this.props.root.id);\n\n\t\tthis.previousData = null;\n\t\tthis.currentData = this.props.root;\n\n\t\tthis.props.dispatcher.register((section, id, inverse) => {\n\t\t\tif (this.isAnimating && this.props.disableNavigationWhileAnimating) {\n\t\t\t\treturn;\t\n\t\t\t}\n\n\t\t\tthis.inverse = inverse;\n\t\t\tthis.updateState(section, id);\n\t\t});\n\t}\n\n\tupdateState(section, id) {\t\t\n\t\tlet current = null;\n\n\t\tif (this.state.sections) {\n\t\t\tif (this.state.sections[section] && id) {\n\t\t\t\tcurrent = getCurrent(this.state.sections[section], id, this.state.current);\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Trying to access sections['${section}']' with id ${id}`);\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error(`Missing sections object`);\n\t\t}\n\t\t\n\t\tclearTimeout(this.timeoutId);\n\n\t\tif (this.props.onStart) {\n\t\t\tthis.previousData = { section: this.currentData.section, id: this.currentData.id };\n\t\t\tthis.currentData = { section, id }\n\n\t\t\tthis.props.onStart(this.previousData, this.currentData);\n\t\t}\n\n\t\t\n\t\tthis.setState(Object.assign({}, this.state, {\n\t\t\tprevious: this.state.current,\n\t\t\tcurrent\n\t\t}));\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn this.state.previous || nextState.previous;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.props.animate && this.previousElement && this.currentElement) {\n\n\t\t\tremoveClasses(this.previousElement, Object.keys(classes).map(key => classes[key]));\n\t\t\tremoveClasses(this.currentElement, Object.keys(classes).map(key => classes[key]));\n\n\t\t\tif (this.inverse) {\n\t\t\t\tlet {startPreviousInverse, startCurrentInverse, animatePreviousInverse, animateCurrentInverse} = classes; \n\n\t\t\t\taddClasses(this.previousElement, [startPreviousInverse, animatePreviousInverse]);\n\t\t\t\taddClasses(this.currentElement, [startCurrentInverse, animateCurrentInverse]);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tlet {startPrevious, startCurrent, animatePrevious, animateCurrent} = classes;\n\t\t\t\t\n\t\t\t\taddClasses(this.previousElement, [startPrevious, animatePrevious]);\n\t\t\t\taddClasses(this.currentElement, [startCurrent, animateCurrent]);\n\t\t\t}\n\t\t}\n\n\t\tif (!this.state.previous && this.state.current) {\n\t\t\tthis.props.onDone && this.props.onDone(this.previousData, this.currentData);\n\t\t}\n\t\t\n\t\tthis.isAnimating = true;\n\t\tthis.timeoutId = setTimeout(() => {\n\t\t\tthis.setState(Object.assign({}, this.state, {\n\t\t\t\tprevious: null\n\t\t\t}));\n\t\t\tthis.isAnimating = false;\n\t\t}, this.props.duration ? this.props.duration : getLongerDuration(this.previousElement, this.currentElement));\n\t}\n\n\trender() { \n\t\tlet { style, className, animate } = this.props;\n\t\tlet previous = this.state.previous && this.state.previous.component;\n\t\tlet current = this.state.current.component;\n\t\tlet content = null;\n\n\t\tif (animate && previous) {\t\t\t\n\t\t\tprevious = React.cloneElement(previous, { ref: ref => { this.previousElement = ref }, key: 1 });\n\t\t\tcurrent = React.cloneElement(current, { ref: ref => { this.currentElement = ref }, key: 2 });\n\n\t\t\tcontent = (\n\t\t\t\t<div className={className} style={style} ref={ref => this.IS = ref}>\n\t\t\t\t\t{previous}\n\t\t\t\t\t{current}\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t} else {\n\t\t\tcurrent = React.cloneElement(current, { ref: ref => { this.currentElement = ref }, className: `${current.props.className} ${classes.end}`, key: 1 });\n\n\t\t\tcontent = (\n\t\t\t\t<div className={className} style={style} ref={ref => this.IS = ref}>\n\t\t\t\t\t{current}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\t\t\t\n\t\treturn (content);\n\t}\n}\n\nIS.propTypes = {\n\tsections: React.PropTypes.objectOf((propValue, key, componentName, location, propFullName) => {\n\t\tlet fail = false;\n\t\tlet failDescription = null;\n\n\t\tif ((propValue[key].constructor === Array) && propValue[key].length) {\n\t\t\tpropValue[key].forEach((section) => {\n\t\t\t\tif (!section.id) {\n\t\t\t\t\tfail = true;\n\t\t\t\t\tfailDescription = 'Missing id.'\n\t\t\t\t} else if (!section.component && !React.isValidElement(section.component)) {\n\t\t\t\t\tfailDescription = 'Missing component.'\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tfail = true;\n\t\t}\n\n\t\tif (fail) {\n\t\t\treturn new Error(\n\t\t\t\t`Invalid prop ${propFullName} supplied to ${componentName}. ${failDescription} Validation failed.`\n\t\t\t);\n\t\t}\n\t})\n};\n\nclass Dispatcher {\n\tconstructor() {\n\t\tthis.callback = null;\n\t}\n\n\tregister(callback) {\n\t\tthis.callback = callback;\n\t}\n\n\tdispatch(section, id, inverse) {\n\t\treturn () => {\n\t\t\tthis.callback(section, id, !!inverse);\n\t\t}\n\t}\n}\n\nfunction addClasses(element, classNames) {\n\tclassNames.forEach(className => {\n\t\telement.clientHeight;\n\t\telement.classList.add(className);\n\t});\n}\n\nfunction removeClasses(element, classNames) {\n\tclassNames.forEach(className => {\n\t\telement.classList.remove(className);\n\t});\n}\n\nfunction getLongerDuration(element_1, element_2) {\n\tlet elem_1_duration = getElementDuration(element_1);\n\tlet elem_2_duration = getElementDuration(element_2);\n\n\treturn elem_1_duration > elem_2_duration ? elem_1_duration : elem_2_duration;\n}\n\nfunction getElementDuration(element) {\n\tlet duration = 0;\n\tlet possibleMatch;\n\n\tif (element) {\n\t\tpossibleMatch = getComputedStyle(element)['transition-duration'].match(/([0-9]*\\.[0-9]+|[0-9]+)(ms|s)/i);\n\n\t\tif (possibleMatch[1] && possibleMatch[2]) {\n\t\t\tif (possibleMatch[2].toLowerCase() === 's') {\n\t\t\t\tduration = parseFloat(possibleMatch[1]) * 1000;\n\t\t\t} else {\n\t\t\t\tduration = possibleMatch[1];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn duration;\n}\n\nfunction isFunction(object) {\n\treturn !!(object && object.constructor && object.call && object.apply);\n}\n\nfunction getCurrent(children, id, fallback = null) {\n\tlet result = fallback;\n\n\tchildren.forEach(child => {\n\t\tif (child.id === id) {\n\t\t\tresult = child;\n\t\t}\n\t});\n\n\treturn result;\n}"]}